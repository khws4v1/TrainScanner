#!/usr/bin/env python# -*- coding: utf-8 -*-import cv2import numpy as npfrom matplotlib import pyplot as plt#It does not work well. Sep. 5, 2016.import sysif len(sys.argv) != 3:    print "usage: {0} image rows".format(sys.argv[0])    sys.exit(1)img = cv2.imread(sys.argv[1])pers = open(sys.argv[2])h, w = img.shape[0:2]p1 = []p2 = []fx,fy = [int(col) for col in pers.readline().split()]for i in range(4):    x,y = [float(col) for col in pers.readline().split()]    p1.append((x,y))for i in range(4):    x,y = [float(col) for col in pers.readline().split()]    p2.append((x,y))p1 = np.float32(p1)p2 = np.float32(p2)M = cv2.getPerspectiveTransform(p2,p1)warped = cv2.warpPerspective(img,M,(fx,fy*10))cv2.imshow("Warped", warped)cv2.waitKey()cv2.imwrite("{0}.warped.jpg".format(sys.argv[1]), warped)    